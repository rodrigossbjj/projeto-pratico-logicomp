Puzzle: puzzle1.txt
Texto do Puzzle:
Em uma ilha vivem apenas cavaleiros e patifes. 
Cavaleiros sempre dizem a verdade, e patifes sempre mentem.
A diz: 'B é um patife.'
B diz: 'A e eu somos diferentes.'
Quem é cavaleiro e quem é patife?. Diretamente resolva o problema: Quem podemos garantir que é cavaleiro e quem é patife?
Resposta GPT:
Vamos resolver o problema de forma lógica primeiro:

1. A diz: "B é um patife."
2. B diz: "A e eu somos diferentes."

**Análise:**

- Se A é um cavaleiro (diz a verdade), então B é um patife. Se B é um patife, ele está mentindo ao dizer que "A e eu somos diferentes". Isso significaria que A e B são na verdade iguais, ou seja, ambos seriam patifes, o que é uma contradição porque A não pode ser um patife.

- Por outro lado, se A é um patife (mente), então a afirmação "B é um patife" é falsa, o que significa que B deve ser um cavaleiro. Se B é um cavaleiro, então a afirmação "A e eu somos diferentes" é verdadeira e, portanto, A e B são de fato diferentes (A é patife, B é cavaleiro), mantendo a coerência do raciocínio.

Portanto, podemos concluir que:
- A é um patife.
- B é um cavaleiro.

Agora, vamos traduzir isso para o Z3, que é um solver de satisfatibilidade (SMT).

```python
from z3 import *

# Cria variáveis para A e B
A = Bool('A')  # True se A é cavaleiro, False se A é patife
B = Bool('B')  # True se B é cavaleiro, False se B é patife

# Cria um solvers
solver = Solver()

# Adiciona as condições:
# 1. Se A é cavaleiro (A = True), então "B é um patife" é uma verdade (B = False)
# 2. Se B é um cavaleiro (B = True), então "A e eu somos diferentes" é uma verdade
solver.add(Or(And(A, Not(B)), And(Not(A), B)))  # A e B não podem ser ambos cavalheiros ou ambos patifes.
solver.add(Implies(A, Not(B)))  # Se A é cavaleiro, então B é patife
solver.add(Implies(B, A != B))  # Se B é cavaleiro, então A é patife

# Resolve o problema
if solver.check() == sat:
    model = solver.model()
    is_cavaleiro_A = model.evaluate(A)
    is_cavaleiro_B = model.evaluate(B)
    resultado_A = "cavaleiro" if is_cavaleiro_A else "patife"
    resultado_B = "cavaleiro" if is_cavaleiro_B else "patife"
    print(f"A: {resultado_A}")
    print(f"B: {resultado_B}")
else:
    print("Não há solução.")
```

Executando esse código Z3, você deve obter os resultados esperados:

```
A: patife
B: cavaleiro
```

Portanto, podemos garantir que:
- A é um patife.
- B é um cavaleiro.
Resposta Z3:
{'A': False, 'B': True}
Correspondência: Não
========================================
